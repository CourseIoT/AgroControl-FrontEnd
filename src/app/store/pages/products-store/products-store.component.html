<div class="min-h-screen bg-gray-50">
  <!-- Header -->
  <div class="bg-gradient-to-r from-teal-700 to-teal-600 text-white py-6 px-4">
    <div class="max-w-7xl mx-auto">
      <h1 class="text-3xl font-bold mb-1">{{ 'products.productStore' | translate}}</h1>
      <p class="text-teal-100 text-sm">Encuentra los mejores productos agr√≠colas para tu campo</p>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 py-6">
    <!-- Search Bar -->
    <div class="mb-6">
      <div class="relative max-w-xl">
        <mat-icon class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 !text-xl">search</mat-icon>
        <input
          type="text"
          placeholder="Buscar productos..."
          [(ngModel)]="searchTerm"
          (input)="filterProducts()"
          class="w-full pl-12 pr-4 py-2.5 text-sm rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"
        />
      </div>
    </div>

    <!-- Stats Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-gray-600 text-xs font-medium mb-1">Productos Disponibles</p>
            <p class="text-2xl font-bold text-gray-800">{{ products.length }}</p>
          </div>
          <div class="bg-green-100 p-2.5 rounded-lg flex items-center justify-center">
            <mat-icon class="text-green-600 !w-6 !h-6 !text-2xl">inventory_2</mat-icon>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-gray-600 text-xs font-medium mb-1">Precio Promedio</p>
            <p class="text-2xl font-bold text-gray-800">${{ getAveragePrice() }}</p>
          </div>
          <div class="bg-blue-100 p-2.5 rounded-lg flex items-center justify-center">
            <mat-icon class="text-blue-600 !w-6 !h-6 !text-2xl">attach_money</mat-icon>
          </div>
        </div>
      </div>


    </div>

    <!-- Empty State -->
    <div *ngIf="filteredProducts.length === 0" class="bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center">
      <mat-icon class="text-gray-400 mb-4" style="font-size: 48px; width: 48px; height: 48px;">inventory_2</mat-icon>
      <p class="text-gray-500 text-base">No se encontraron productos</p>
    </div>

    <!-- Products List -->
    <app-products-list
      *ngIf="filteredProducts.length > 0"
      [products]="filteredProducts"
      [showField]="2"
      (edit)="openFormForEdit($event)"
    />
  </div>
</div>
